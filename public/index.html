
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ALSAQQAF LOGISTICS LLC — Driver Application</title>
<link rel="icon" href="/favicon.png">
<style>
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:#f3f4f6;margin:0}
.header{display:flex;gap:12px;align-items:center;background:linear-gradient(135deg,#1e40af,#1e3a8a);color:#fff;padding:20px}
.header img{height:54px}
.container{max-width:1000px;margin:24px auto;background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08);padding:24px}
label{display:block;margin:8px 0 6px;font-weight:700}
input,select,textarea{width:100%;padding:10px;border:2px solid #e5e7eb;border-radius:10px}
button{background:#1e40af;color:#fff;border:none;border-radius:10px;padding:12px 16px;margin-top:16px;cursor:pointer;font-weight:700}
.ok{color:#059669;font-weight:700;display:none;margin-left:8px}
.err{color:#dc2626;font-weight:700;display:none;margin-top:8px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media(max-width:720px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
  <div class="header">
    <img src="/logo.png" alt="logo">
    <div>
      <div style="font-size:18px;font-weight:800">ALSAQQAF LOGISTICS LLC</div>
      <div>Professional Driver Application</div>
    </div>
  </div>

  <div class="container">
    <!-- NOTE: You can paste your full multi-step form inside this <form> to keep the exact UI -->
    <form id="driverApplicationForm">
      <h2>Personal Information</h2>
      <div class="grid">
        <div><label>First Name *</label><input name="firstName" required></div>
        <div><label>Last Name *</label><input name="lastName" required></div>
      </div>
      <div class="grid">
        <div><label>Email *</label><input type="email" name="email" required></div>
        <div><label>Phone *</label><input name="phone" required></div>
      </div>
      <div class="grid">
        <div><label>Date of Birth</label><input type="date" name="dateOfBirth"></div>
        <div><label>SSN</label><input name="ssn" placeholder="###-##-####"></div>
      </div>

      <h3 style="margin-top:18px">Address</h3>
      <div class="grid">
        <div><label>Street</label><input name="currentAddress"></div>
        <div><label>City</label><input name="currentCity"></div>
      </div>
      <div class="grid">
        <div>
          <label>State</label>
          <select name="currentState">
            <option value="">Select</option>
            <option value="MI">Michigan</option><option value="OH">Ohio</option><option value="IN">Indiana</option>
            <option value="IL">Illinois</option><option value="WI">Wisconsin</option><option value="PA">Pennsylvania</option>
            <option value="NY">New York</option><option value="TX">Texas</option><option value="CA">California</option>
          </select>
        </div>
        <div><label>ZIP</label><input name="currentZip"></div>
      </div>

      <h3 style="margin-top:18px">Experience & Preferences</h3>
      <div class="grid">
        <div><label>CDL Class</label><input name="cdlClass"></div>
        <div><label>Driving Experience</label><input name="drivingExperience"></div>
      </div>
      <div class="grid">
        <div>
          <label>Preferred Work Schedule</label>
          <select name="workSchedule">
            <option value="">Select</option><option>Full-time</option><option>Part-time</option><option>Local</option>
            <option>Regional</option><option>OTR</option>
          </select>
        </div>
        <div><label>Available Start Date</label><input type="date" name="availableStartDate"></div>
      </div>

      <h3 style="margin-top:18px">Emergency Contact</h3>
      <div class="grid">
        <div><label>Name</label><input name="emergencyName"></div>
        <div><label>Relationship</label><input name="emergencyRelationship"></div>
      </div>
      <div class="grid">
        <div><label>Phone</label><input name="emergencyPhone"></div>
        <div><label>Email</label><input type="email" name="emergencyEmail"></div>
      </div>

      <button type="submit">Submit Application</button>
      <span class="ok" id="ok">✅ Sent!</span>
      <div class="err" id="err">Something went wrong. Please try again.</div>
    </form>
  </div>

<script>
const form = document.getElementById('driverApplicationForm');
form.addEventListener('submit', async (e)=>{
  e.preventDefault();
  const data = Object.fromEntries(new FormData(form).entries());
  document.getElementById('ok').style.display='none';
  document.getElementById('err').style.display='none';
  try{
    const res = await fetch('/api/applications', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(data) });
    const json = await res.json();
    if(!res.ok) throw json;
    document.getElementById('ok').style.display='inline-block';
    form.reset();
  }catch(err){ document.getElementById('err').style.display='block'; }
});
</script>
</body>
</html>
